:root {
	--menu__transition-duration: .25s;
}

.menu {
	--menu__min-width: 15rem;

	/* Position */
	margin-top: .5rem;
	min-width: max(var(--menu__min-width), anchor-size(width));
	position-area: bottom span-right;
	position-try-fallbacks: flip-block, flip-inline, flip-block flip-inline;
	z-index: var(--z__menu);

	/* Appearance */
	background: var(--panel__background-color);
	background: var(--panel__background);
	border: 1px solid var(--panel__border-color);
	border-radius: var(--menu__border-radius);
	box-shadow: var(--menu__shadow);
}

.menu::backdrop {
	--menu-backdrop__blur: 0;
	--menu-backdrop__opacity: 0;

	backdrop-filter: blur(var(--menu-backdrop__blur));
	background-color: rgb(0 0 0 / var(--menu-backdrop__opacity));

	transition-behavior: allow-discrete;
	transition-duration: var(--menu__transition-duration);
	transition-property: backdrop-filter background-color display overlay;
}

.menu[open]::backdrop {
	--menu-backdrop__blur: 1px;
	--menu-backdrop__opacity: 25%;

	@starting-style {
		--menu-backdrop__blur: 0;
		--menu-backdrop__opacity: 0;
	}
}

/* Reset */
dialog:where(.menu) {
	margin: unset;
	inset: unset;
	max-height: fit-content;
	max-width: fit-content;
}