:root {
	--dialog__backdrop-blur: 1px;
	--dialog__margin: 1rem;
	--dialog__padding: 1rem;
	--dialog__shadow: 0 1.5rem 3rem rgb(0 0 0 / .25);
}

.dialog {
	/* Undo default reset */
	margin: auto;

	/* Position */
	max-width: calc(100% - var(--dialog__margin) * 2);
	padding: var(--dialog__padding);

	/* Appearance */
	background: var(--panel__background-color);
	background: var(--panel__background);
	border: 1px solid var(--panel__border-color);
	border-radius: var(--dialog__border-radius);
	box-shadow: var(--dialog__shadow);

	> header,
	> footer {
		/* Content */
		display: flex;
		flex-wrap: wrap;
		align-items: center;
		gap: 1rem;
	}

	> header {
		/* Layout */
		margin-bottom: 1rem;

		/* Content */
		justify-content: space-between;
	}

	> footer {
		/* Layout */
		margin-top: 2rem;

		/* Content */
		justify-content: flex-end;
	}
}

/*
	Animation
*/
.dialog {
	opacity: 0;
	transform: scale(1.04);
	transition:
		opacity var(--transition__duration--fast) ease-in,
		transform var(--transition__duration--fast) ease-in,
		overlay var(--transition__duration--fast) allow-discrete,
		display var(--transition__duration--fast) allow-discrete;
}

.dialog[open] {
	opacity: 1;
	transform: unset;
}

@starting-style {
	.dialog[open] {
		opacity: 0;
		transform: scale(1.04);
	}
}

/*
	Backdrop
*/
.dialog::backdrop {
	background-color: transparent;
	backdrop-filter: blur(0px) opacity(0);
	-webkit-backdrop-filter: blur(0px) opacity(0);

	transition:
		backdrop-filter var(--transition__duration--fast) ease-in,
		background-color var(--transition__duration--fast) ease-in,
		overlay var(--transition__duration--fast) allow-discrete,
		display var(--transition__duration--fast) allow-discrete;
}

.dialog[open]::backdrop {
	background-color: rgb(0 0 0 / 65%);
	backdrop-filter: blur(var(--dialog__backdrop-blur)) opacity(1);
	-webkit-backdrop-filter: blur(var(--dialog__backdrop-blur)) opacity(1);
}

@starting-style {
	/*
	 * TODO: This doesn't work for some reason (Works on iPhone).
	 * See https://blog.logrocket.com/animating-dialog-popover-elements-css-starting-style/
	 */
	.dialog[open]::backdrop {
		background-color: transparent;
		backdrop-filter: blur(0px) opacity(0);
		-webkit-backdrop-filter: blur(0px) opacity(0);
	}
}
